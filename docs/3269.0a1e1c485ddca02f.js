"use strict";(self.webpackChunknav_bar=self.webpackChunknav_bar||[]).push([[3269],{3269:(G,I,_)=>{_.r(I),_.d(I,{startInputShims:()=>Y});var D=_(5861),g=_(6642),v=_(5730);const y=new WeakMap,L=(t,n,e,r=0)=>{y.has(t)!==e&&(e?B(t,n,r):M(t,n))},T=t=>t===t.getRootNode().activeElement,B=(t,n,e)=>{const r=n.parentNode,o=n.cloneNode(!1);o.classList.add("cloned-input"),o.tabIndex=-1,r.appendChild(o),y.set(t,o);const s="rtl"===t.ownerDocument.dir?9999:-9999;t.style.pointerEvents="none",n.style.transform=`translate3d(${s}px,${e}px,0) scale(0)`},M=(t,n)=>{const e=y.get(t);e&&(y.delete(t),e.remove()),t.style.pointerEvents="",n.style.transform=""},A="input, textarea, [no-blur], [contenteditable]",F=function(){var t=(0,D.Z)(function*(n,e,r,o,i){if(!r&&!o)return;const s=((t,n,e)=>{var r;return((t,n,e,r)=>{const o=t.top,i=t.bottom,s=n.top,a=s+15,f=.75*Math.min(n.bottom,r-e)-i,S=a-o,d=Math.round(f<0?-f:S>0?-S:0),c=Math.min(d,o-s),h=Math.abs(c)/.3;return{scrollAmount:c,scrollDuration:Math.min(400,Math.max(150,h)),scrollPadding:e,inputSafeY:4-(o-a)}})((null!==(r=t.closest("ion-item,[ion-item]"))&&void 0!==r?r:t).getBoundingClientRect(),n.getBoundingClientRect(),e,t.ownerDocument.defaultView.innerHeight)})(n,r||o,i);if(r&&Math.abs(s.scrollAmount)<4)e.focus();else if(L(n,e,!0,s.inputSafeY),e.focus(),(0,v.r)(()=>n.click()),typeof window<"u"){let u;const a=function(){var f=(0,D.Z)(function*(){void 0!==u&&clearTimeout(u),window.removeEventListener("ionKeyboardDidShow",l),window.removeEventListener("ionKeyboardDidShow",a),r&&(yield(0,g.c)(r,0,s.scrollAmount,s.scrollDuration)),L(n,e,!1,s.inputSafeY),e.focus()});return function(){return f.apply(this,arguments)}}(),l=()=>{window.removeEventListener("ionKeyboardDidShow",l),window.addEventListener("ionKeyboardDidShow",a)};if(r){const f=yield(0,g.g)(r);if(s.scrollAmount>f.scrollHeight-f.clientHeight-f.scrollTop)return"password"===e.type?(s.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",l)):window.addEventListener("ionKeyboardDidShow",a),void(u=setTimeout(a,1e3))}a()}});return function(e,r,o,i,s){return t.apply(this,arguments)}}(),P="$ionPaddingTimer",p=(t,n)=>{var e,r;if("INPUT"!==t.tagName||t.parentElement&&"ION-INPUT"===t.parentElement.tagName||"ION-SEARCHBAR"===(null===(r=null===(e=t.parentElement)||void 0===e?void 0:e.parentElement)||void 0===r?void 0:r.tagName))return;const o=(0,g.f)(t);if(null===o)return;const i=o[P];i&&clearTimeout(i),n>0?o.style.setProperty("--keyboard-offset",`${n}px`):o[P]=setTimeout(()=>{o.style.setProperty("--keyboard-offset","0px")},120)},Y=t=>{const n=document,e=t.getNumber("keyboardHeight",290),r=t.getBoolean("scrollAssist",!0),o=t.getBoolean("hideCaretOnScroll",!0),i=t.getBoolean("inputBlurring",!0),s=t.getBoolean("scrollPadding",!0),u=Array.from(n.querySelectorAll("ion-input, ion-textarea")),a=new WeakMap,l=new WeakMap,f=function(){var d=(0,D.Z)(function*(c){yield new Promise(b=>(0,v.c)(c,b));const w=c.shadowRoot||c,h=w.querySelector("input")||w.querySelector("textarea"),m=(0,g.f)(c),C=m?null:c.closest("ion-footer");if(h){if(m&&o&&!a.has(c)){const b=((t,n,e)=>{if(!e||!n)return()=>{};const r=u=>{T(n)&&L(t,n,u)},o=()=>L(t,n,!1),i=()=>r(!0),s=()=>r(!1);return(0,v.a)(e,"ionScrollStart",i),(0,v.a)(e,"ionScrollEnd",s),n.addEventListener("blur",o),()=>{(0,v.b)(e,"ionScrollStart",i),(0,v.b)(e,"ionScrollEnd",s),n.addEventListener("ionBlur",o)}})(c,h,m);a.set(c,b)}if("date"!==h.type&&"datetime-local"!==h.type&&(m||C)&&r&&!l.has(c)){const b=((t,n,e,r,o)=>{let i;const s=a=>{i=(0,v.p)(a)},u=a=>{if(!i)return;const l=(0,v.p)(a);!((t,n,e)=>{if(n&&e){const r=n.x-e.x,o=n.y-e.y;return r*r+o*o>t*t}return!1})(6,i,l)&&!T(n)&&F(t,n,e,r,o)};return t.addEventListener("touchstart",s,{capture:!0,passive:!0}),t.addEventListener("touchend",u,!0),()=>{t.removeEventListener("touchstart",s,!0),t.removeEventListener("touchend",u,!0)}})(c,h,m,C,e);l.set(c,b)}}});return function(w){return d.apply(this,arguments)}}();i&&(()=>{let t=!0,n=!1;const e=document;(0,v.a)(e,"ionScrollStart",()=>{n=!0}),e.addEventListener("focusin",()=>{t=!0},!0),e.addEventListener("touchend",s=>{if(n)return void(n=!1);const u=e.activeElement;if(!u||u.matches(A))return;const a=s.target;a!==u&&(a.matches(A)||a.closest(A)||(t=!1,setTimeout(()=>{t||u.blur()},50)))},!1)})(),s&&(t=>{const n=document;n.addEventListener("focusin",o=>{p(o.target,t)}),n.addEventListener("focusout",o=>{p(o.target,0)})})(e);for(const d of u)f(d);n.addEventListener("ionInputDidLoad",d=>{f(d.detail)}),n.addEventListener("ionInputDidUnload",d=>{(d=>{if(o){const c=a.get(d);c&&c(),a.delete(d)}if(r){const c=l.get(d);c&&c(),l.delete(d)}})(d.detail)})}}}]);